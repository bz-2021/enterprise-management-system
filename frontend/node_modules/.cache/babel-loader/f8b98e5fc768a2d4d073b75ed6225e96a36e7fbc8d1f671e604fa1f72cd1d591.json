{"ast":null,"code":"import { mapState } from 'vuex';\nexport default {\n  inject: ['reload'],\n  data() {\n    return {\n      showadd: false,\n      showdetail: false,\n      showupdate: false,\n      nowEmployeeid: '',\n      nowindex: '',\n      //现在指向哪个id\n      active: 0,\n      //同一时间只能活跃一个窗口\n      user: '',\n      myname: '',\n      level: '',\n      status: '',\n      gender: '',\n      photo: '',\n      ethnicity: '',\n      birthday: '',\n      politicalFace: '',\n      education: '',\n      id_card: '',\n      phone_number: '',\n      e_mail: '',\n      username: '',\n      account: '',\n      did: '',\n      password: ''\n    };\n  },\n  methods: {\n    delteEmployee(id) {\n      this.$store.dispatch('delEmployee', id);\n    },\n    modifyEmployee() {\n      var data = {\n        \"employee_id\": this.nowEmployeeid,\n        \"name\": this.myname,\n        \"level\": this.level,\n        \"status\": this.status,\n        \"gender\": this.gender,\n        \"photo\": this.photo,\n        \"ethnicity\": this.ethnicity,\n        \"birthday\": this.birthday,\n        \"politicalFace\": this.politicalFace,\n        \"education\": this.education,\n        \"id_card\": this.id_card,\n        \"phone_number\": this.phone_number,\n        \"e_mail\": this.e_mail,\n        \"username\": this.username,\n        \"account\": this.account,\n        \"did\": this.did\n      };\n      console.log(data);\n      this.$store.dispatch('molEmployee', data).then(res => {\n        this.reload();\n      });\n    },\n    addEmployee() {\n      var data = {\n        \"name\": this.myname,\n        \"level\": this.level,\n        \"status\": this.status,\n        \"gender\": this.gender,\n        \"photo\": this.photo,\n        \"ethnicity\": this.ethnicity,\n        \"birthday\": this.birthday,\n        \"politicalFace\": this.politicalFace,\n        \"education\": this.education,\n        \"id_card\": this.id_card,\n        \"phone_number\": this.phone_number,\n        \"e_mail\": this.e_mail,\n        \"username\": this.username,\n        \"account\": this.account,\n        \"did\": this.did,\n        \"password\": this.password,\n        \"confirmedPassword\": this.password\n      };\n      this.$store.dispatch('addEmployee', data).then(res => {\n        this.reload();\n      });\n    },\n    showAdd() {\n      if (this.active == 0) {\n        this.showadd = true;\n        this.active = 1;\n      }\n    },\n    showDetail(id) {\n      if (this.active == 0) {\n        this.showdetail = true;\n        this.active = 1;\n      }\n      this.nowindex = id;\n      // console.log();\n      this.user = this.userlist[id];\n    },\n    showUpdate(id, nowEmployeeid) {\n      if (this.active == 0) {\n        this.showupdate = true;\n        this.active = 1;\n      }\n      this.nowEmployeeid = nowEmployeeid;\n      console.log(this.active);\n      this.nowindex = id;\n    },\n    Close() {\n      this.showdetail = false;\n      this.showupdate = false;\n      this.showadd = false;\n      this.active = 0;\n    }\n  },\n  computed: mapState({\n    userlist: state => state.userlist\n  }),\n  mounted: function () {\n    this.$store.dispatch('getList');\n  }\n};","map":{"version":3,"mappings":"AAqLA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAAC;MAAAC;MAAAC;MAAAC;MACAC;MAAAC;MAAAC;MACAC;MAAAC;MAAAC;MACAC;MAAAC;MAAAC;MAAAC;MAAAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;QACA;QAAA;QAAA;QAAA;QAAA;QACA;QAAA;QAAA;QAAA;QAAA;QACA;QAAA;QACA;QAAA;QAAA;QAAA;MACA;MACAC;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;QAAA;QAAA;QAAA;QACA;QAAA;QAAA;QAAA;QAAA;QACA;QAAA;QACA;QAAA;QAAA;QAAA;QAAA;QAAA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;IAEA;IACAC;MACA;QACA;QACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;MACAJ;MACA;IAEA;IACAK;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;EAEA;AAEA","names":["inject","data","showadd","showdetail","showupdate","nowEmployeeid","nowindex","active","user","myname","level","status","gender","photo","ethnicity","birthday","politicalFace","education","id_card","phone_number","e_mail","username","account","did","password","methods","delteEmployee","modifyEmployee","console","addEmployee","showAdd","showDetail","showUpdate","Close","computed","userlist","mounted"],"sourceRoot":"src/pages/system/systemuser","sources":["index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"context-title\">公司用户管理</div>\r\n        <div class=\"context-add\" @click=\"showAdd\"><a href=\"#\">增添员工</a> </div>\r\n        <div class=\"context\">\r\n            <div class=\"context-nav\">\r\n                <span>员工ID</span>\r\n                <span>姓名</span>\r\n                <span>级别</span>\r\n                <span>职位</span>\r\n                <span>性别</span>\r\n                <span>文化程度</span>\r\n                <span>照片</span>\r\n                <span>政治面貌</span>\r\n                <span>民族</span>\r\n                <div>操作</div>\r\n\r\n            </div>\r\n            <ul>\r\n                <li class=\"item\" v-for=\"(item, index) in userlist\">\r\n                    <div>{{ item.id }}</div>\r\n                    <div>{{ item.name }}</div>\r\n                    <div>{{ item.level }}</div>\r\n                    <div>{{ item.status }}</div>\r\n                    <div>{{ item.gender }}</div>\r\n                    <div>{{ item.education }}</div>\r\n                    <div>{{ item.photo }}</div>\r\n                    <div>{{ item.politicalFace }}</div>\r\n                    <div>{{ item.ethnicity }}</div>\r\n                    <div class=\"operation\">\r\n                        <div><a href=\"#\" @click=\"showDetail(index)\">详情</a></div>\r\n                        <div><a href=\"#\" @click=\"showUpdate(index, item.id)\">编辑</a></div>\r\n                        <el-popover placement=\"top\" width=\"160\">\r\n                            <p>确定删除吗？</p>\r\n                            <div style=\"text-align: right; margin: 0\">\r\n                                <el-button type=\"primary\" size=\"mini\" @click=\"delteEmployee(item.id)\">确定</el-button>\r\n                            </div>\r\n                            <a slot=\"reference\">删除</a>\r\n                        </el-popover>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div ref='detail' class=\"detail\" :class=\"{ disappear: !showdetail }\">\r\n            <el-button type=\"warning\" @click=\"Close\" size=\"small\">关闭</el-button>\r\n            <div class=\"detail-nav\">\r\n                <span>生日</span>\r\n                <span>电话号码</span>\r\n                <span>部门</span>\r\n                <span>电子邮箱</span>\r\n                <span>用户名</span>\r\n                <span>账户</span>\r\n                <span>密码</span>\r\n                <span>注册时间</span>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n                <div>{{ user.birthday }}</div>\r\n                <div>{{ user.phoneNumber }}</div>\r\n                <div>{{ user.did }}</div>\r\n                <div>{{ user.email }}</div>\r\n                <div>{{ user.userName }}</div>\r\n                <div>{{ user.account }}</div>\r\n                <div>{{ user.password }}</div>\r\n                <div>{{ user.registTime }}</div>\r\n            </div>\r\n        </div>\r\n        <div ref=\"update\" class=\"update\" :class=\"{ disappear: !showupdate }\">\r\n            <el-form ref=\"form\" label-width=\"160px\">\r\n                <el-form-item label=\"姓名 :\">\r\n                    <el-input v-model=\"myname\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"级别 :\">\r\n                    <el-input v-model=\"level\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"职位 :\">\r\n                    <el-input v-model=\"status\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"性别 :\">\r\n                    <el-input v-model=\"gender\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"照片URL :\">\r\n                    <el-input v-model=\"photo\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"民族  :\">\r\n                    <el-input v-model=\"ethnicity\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"生日(yyyy-MM-dd) :\">\r\n                    <el-input v-model=\"birthday\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"政治面貌 :\">\r\n                    <el-input v-model=\"politicalFace\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"文化程度 :\">\r\n                    <el-input v-model=\"education\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"身份证号 :\">\r\n                    <el-input v-model=\"id_card\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机号 :\">\r\n                    <el-input v-model=\"phone_number\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"电子邮箱 :\">\r\n                    <el-input v-model=\"e_mail\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户名 :\">\r\n                    <el-input v-model=\"username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"账户 :\">\r\n                    <el-input v-model=\"account\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"部门编号 :\">\r\n                    <el-input v-model=\"did\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"modifyEmployee\">提交</el-button>\r\n                    <el-button @click=\"Close\">取消</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n\r\n        <div ref=\"add\" class=\"add\" :class=\"{ disappear: !showadd }\">\r\n            <el-form ref=\"form\" label-width=\"160px\">\r\n                <el-form-item label=\"姓名 :\">\r\n                    <el-input v-model=\"myname\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"级别 :\">\r\n                    <el-input v-model=\"level\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"职位 :\">\r\n                    <el-input v-model=\"status\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"性别 :\">\r\n                    <el-input v-model=\"gender\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"照片URL :\">\r\n                    <el-input v-model=\"photo\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"民族  :\">\r\n                    <el-input v-model=\"ethnicity\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"生日(yyyy-MM-dd) :\">\r\n                    <el-input v-model=\"birthday\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"政治面貌 :\">\r\n                    <el-input v-model=\"politicalFace\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"文化程度 :\">\r\n                    <el-input v-model=\"education\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"身份证号 :\">\r\n                    <el-input v-model=\"id_card\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机号 :\">\r\n                    <el-input v-model=\"phone_number\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"电子邮箱 :\">\r\n                    <el-input v-model=\"e_mail\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"用户名 :\">\r\n                    <el-input v-model=\"username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"账户 :\">\r\n                    <el-input v-model=\"account\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"部门编号 :\">\r\n                    <el-input v-model=\"did\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码 :\">\r\n                    <el-input v-model=\"password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"addEmployee\">提交</el-button>\r\n                    <el-button @click=\"Close\">取消</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    inject: ['reload'],\r\n    data() {\r\n        return {\r\n            showadd: false,\r\n            showdetail: false,\r\n            showupdate: false,\r\n            nowEmployeeid: '',\r\n            nowindex: '',//现在指向哪个id\r\n            active: 0,//同一时间只能活跃一个窗口\r\n            user: '',\r\n            myname: '', level: '', status: '', gender: '', photo: '',\r\n            ethnicity: '', birthday: '', politicalFace: '',\r\n            education: '', id_card: '', phone_number: '',\r\n            e_mail: '', username: '', account: '', did: '', password: '',\r\n        }\r\n    },\r\n    methods: {\r\n        delteEmployee(id) {\r\n            this.$store.dispatch('delEmployee', id);\r\n        },\r\n        modifyEmployee() {\r\n            var data = {\r\n                \"employee_id\": this.nowEmployeeid, \"name\": this.myname, \"level\": this.level, \"status\": this.status, \"gender\": this.gender\r\n                , \"photo\": this.photo, \"ethnicity\": this.ethnicity, \"birthday\": this.birthday, \"politicalFace\": this.politicalFace, \"education\": this.education\r\n                , \"id_card\": this.id_card, \"phone_number\": this.phone_number\r\n                , \"e_mail\": this.e_mail, \"username\": this.username, \"account\": this.account, \"did\": this.did\r\n            }\r\n            console.log(data);\r\n            this.$store.dispatch('molEmployee', data).then(res => {\r\n                this.reload()\r\n            });\r\n        },\r\n        addEmployee() {\r\n            var data = {\r\n                \"name\": this.myname, \"level\": this.level, \"status\": this.status, \"gender\": this.gender\r\n                , \"photo\": this.photo, \"ethnicity\": this.ethnicity, \"birthday\": this.birthday, \"politicalFace\": this.politicalFace, \"education\": this.education\r\n                , \"id_card\": this.id_card, \"phone_number\": this.phone_number\r\n                , \"e_mail\": this.e_mail, \"username\": this.username, \"account\": this.account, \"did\": this.did, \"password\": this.password, \"confirmedPassword\": this.password\r\n            }\r\n            this.$store.dispatch('addEmployee', data).then(res => {\r\n                this.reload()\r\n            });\r\n        },\r\n        showAdd() {\r\n            if (this.active == 0) {\r\n                this.showadd = true\r\n                this.active = 1\r\n            }\r\n\r\n        },\r\n        showDetail(id) {\r\n            if (this.active == 0) {\r\n                this.showdetail = true\r\n                this.active = 1\r\n            }\r\n            this.nowindex = id\r\n            // console.log();\r\n            this.user = this.userlist[id]\r\n        },\r\n        showUpdate(id, nowEmployeeid) {\r\n            if (this.active == 0) {\r\n                this.showupdate = true\r\n                this.active = 1\r\n            }\r\n            this.nowEmployeeid = nowEmployeeid\r\n            console.log(this.active);\r\n            this.nowindex = id\r\n\r\n        },\r\n        Close() {\r\n            this.showdetail = false\r\n            this.showupdate = false\r\n            this.showadd = false\r\n            this.active = 0\r\n        }\r\n    },\r\n    computed: mapState({\r\n        userlist: (state) => state.userlist\r\n    }),\r\n    mounted: function () {\r\n        this.$store.dispatch('getList')\r\n\r\n    }\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* * {\r\n    margin: 0 auto;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n} */\r\n\r\na {\r\n    text-decoration: none;\r\n    /* color: #000; */\r\n}\r\n\r\nli {\r\n    list-style-type: none;\r\n}\r\n\r\n.context {\r\n    border: 2px solid pink;\r\n    border-top: 1px solid pink;\r\n    position: absolute;\r\n    top: 210px;\r\n    left: 245px;\r\n    height: 500px;\r\n    width: 1057px;\r\n}\r\n\r\n.context-title {\r\n    background-color: rgb(68, 81, 97);\r\n    height: 30px;\r\n    color: rgb(255, 255, 255);\r\n    width: 120px;\r\n    position: absolute;\r\n    left: 245px;\r\n    top: 180px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n}\r\n\r\n.context-add {\r\n    background-color: rgb(68, 81, 97);\r\n    height: 30px;\r\n    color: rgb(255, 255, 255);\r\n    width: 120px;\r\n    position: absolute;\r\n    left: 1182px;\r\n    top: 180px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n}\r\n\r\n.context-add a {\r\n    color: white;\r\n}\r\n\r\n.context-detail {\r\n    text-align: center;\r\n    line-height: 246px;\r\n    height: 246px;\r\n    width: 840px;\r\n}\r\n\r\n.context-nav {\r\n    background-color: rgb(237, 234, 235);\r\n    height: 30px;\r\n    line-height: 30px;\r\n}\r\n\r\n.context-nav>span {\r\n    display: block;\r\n    float: left;\r\n    text-align: center;\r\n    width: 96px;\r\n}\r\n\r\n.context-nav div {\r\n    float: right;\r\n    width: 120px;\r\n}\r\n\r\n\r\n.item {\r\n    display: block;\r\n}\r\n\r\n.item>div {\r\n    float: left;\r\n    border-bottom: 1px solid pink;\r\n    text-align: center;\r\n    width: 96px;\r\n}\r\n\r\n.item :nth-child(10) {\r\n    width: 180px;\r\n}\r\n\r\n.operation {\r\n    width: 120px;\r\n}\r\n\r\n.operation>div {\r\n    float: left;\r\n    width: 59px;\r\n\r\n}\r\n\r\n.detail {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 1400px;\r\n}\r\n\r\n.detail-nav {\r\n    background-color: rgb(248, 189, 210);\r\n    height: 30px;\r\n    line-height: 30px;\r\n}\r\n\r\n.detail-nav>span {\r\n    text-align: center;\r\n    display: block;\r\n    float: left;\r\n    width: 160px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.detail-item {\r\n    background-color: rgb(185, 175, 239);\r\n    height: 30px;\r\n    line-height: 30px;\r\n}\r\n\r\n.detail-item div {\r\n    text-align: center;\r\n    float: left;\r\n    width: 160px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.update {\r\n    background-color: #ffffff;\r\n    position: absolute;\r\n    top: 25%;\r\n    left: 32%;\r\n    /* transform: translate(-50%, -50%); */\r\n    width: 400px;\r\n}\r\n\r\n\r\n\r\n.delete {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 300px;\r\n    height: 60px;\r\n    background-color: rgb(234, 179, 179);\r\n    border-radius: 3px;\r\n}\r\n\r\n.delete-title {\r\n    text-align: center;\r\n}\r\n\r\n.delete>.choose {\r\n    width: 300px;\r\n    height: 60px;\r\n}\r\n\r\n.delete>.choose>div {\r\n    float: left;\r\n    line-height: 24px;\r\n    text-align: center;\r\n    background: #E27575;\r\n    border: none;\r\n    margin-left: 84px;\r\n    padding: 3px 3px 3px 3px;\r\n    color: #FFF;\r\n    box-shadow: 1px 1px 5px #B6B6B6;\r\n    border-radius: 3px;\r\n    text-shadow: 1px 1px 1px #9E3F3F;\r\n    cursor: pointer;\r\n}\r\n\r\n.disappear {\r\n    opacity: 0;\r\n    z-index: -1;\r\n\r\n}\r\n\r\n.showagain {\r\n    opacity: 100;\r\n}\r\n\r\n.add {\r\n    background-color: #ffffff;\r\n    position: absolute;\r\n    top: 25%;\r\n    left: 32%;\r\n    /* transform: translate(-50%, -50%); */\r\n    width: 500px;\r\n}\r\n\r\n.close {\r\n    position: absolute;\r\n    left: -40px;\r\n    width: 40px;\r\n    height: 31px;\r\n    background: rgb(94, 221, 72);\r\n    text-align: center;\r\n}\r\n\r\n.closeadd {\r\n    position: absolute;\r\n    left: 300px;\r\n    width: 40px;\r\n    height: 31px;\r\n    top: 22px;\r\n    font-size: large;\r\n    /* background: rgb(148, 152, 147); */\r\n    text-align: center;\r\n}\r\n\r\n.disableform {\r\n    pointer-events: none;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}