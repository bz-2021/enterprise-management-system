{"ast":null,"code":"import { mapState } from \"vuex\";\nexport default {\n  inject: [\"reload\"],\n  data() {\n    return {\n      //雇员模块活跃\n      alive: false,\n      showdetail: \"\",\n      //详情雇员\n      nowemployee: \"\"\n    };\n  },\n  methods: {\n    getDepartEmploy(did) {\n      this.alive = true;\n      console.log(did);\n      this.$store.dispatch(\"getDepartEmployee\", did);\n    },\n    showDetail(index) {\n      this.showdetail = true;\n      console.log(index);\n      this.nowemployee = this.employee[index];\n    },\n    Close() {\n      this.showdetail = false;\n    }\n  },\n  computed: {\n    ...mapState({\n      department: state => state.department,\n      employee: state => state.department_employee\n    })\n  },\n  mounted() {\n    this.$store.dispatch(\"getDepart\");\n  }\n};","map":{"version":3,"mappings":"AAoNA;AACA;EACAA;EACAC;IACA;MACA;MACAC;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACAC;MACA;IACA;IACAC;MACA;MACAD;MACA;IACA;IACAE;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;AACA","names":["inject","data","alive","showdetail","nowemployee","methods","getDepartEmploy","console","showDetail","Close","computed","department","employee","mounted"],"sourceRoot":"src/pages/system/systemdepart","sources":["index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"hello\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-3\">\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<h3> 公司部门管理 </h3>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"col-4\"></div>\r\n\t\t\t<div class=\"col-5\"> </div>\r\n\t\t</div>\r\n\t\t<!-- <div class=\"context-modify\" @click=\"getDepartEmployee\">获取部门下的雇员列表</div> -->\r\n\t\t<table class=\"table table-bordered\" style=\"width: 96%; margin-top: 4vh\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th scope=\"col\" width=\"10%\">雇员列表</th>\r\n\t\t\t\t\t<th scope=\"col\" width=\"7%\">部门id</th>\r\n\t\t\t\t\t<th scope=\"col\" width=\"15%\">部门名称</th>\r\n\t\t\t\t\t<th scope=\"col\" width=\"7%\">级别</th>\r\n\t\t\t\t\t<th scope=\"col\" width=\"61%\">简介</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr class=\"item\" v-for=\"(item, index) in department\">\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tstyle=\"width: 70%\"\r\n\t\t\t\t\t\t\tclass=\"btn btn-primary btn-sm submitbtn\"\r\n\t\t\t\t\t\t\tdata-bs-toggle=\"modal\"\r\n\t\t\t\t\t\t\tdata-bs-target=\"#getDepartemploy\"\r\n\t\t\t\t\t\t\t@click=\"getDepartEmploy(item.did)\"\r\n\t\t\t\t\t\t\t>获取\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"modal\"\r\n\t\t\t\t\t\t\tid=\"getDepartemploy\"\r\n\t\t\t\t\t\t\ttabindex=\"-1\"\r\n\t\t\t\t\t\t\taria-labelledby=\"exampleModalLabel\"\r\n\t\t\t\t\t\t\tdata-bs-backdrop=\"static\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"modal-dialog modal-dialog-centered modal-xl\">\r\n\t\t\t\t\t\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t<h1\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"modal-title fs-5\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"exampleModalLabel\"\r\n\t\t\t\t\t\t\t\t\t\t\t>当前部门的雇员列表</h1\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-close\"\r\n\t\t\t\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\r\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\t\t<table\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"table table-bordered\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 96%; margin-top: 4vh\">\r\n\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">员工ID</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">姓名</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">级别</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">职位</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">性别</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>文化程度\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">照片</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t政治面貌\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">民族</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"tr\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem, index\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) in employee\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temployee.length == 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>当前部门下没有员工</h3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"row\">{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.name }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.level }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.status }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.gender }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.education\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{ item.photo }}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.politicalFace\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.ethnicity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\r\n\t\t\t\t\t\t\t\t\t\t\t>确定</button\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<th scope=\"row\">{{ item.did }}</th>\r\n\t\t\t\t\t<td>{{ item.dname }}</td>\r\n\t\t\t\t\t<td>{{ item.dlevel }}</td>\r\n\t\t\t\t\t<td v-if=\"item.dremark == null\">null</td>\r\n\t\t\t\t\t<td v-else>{{ item.dremark }}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\r\n\t\t<div class=\"context\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li class=\"item\" v-for=\"(item, index) in department\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\t><a\r\n\t\t\t\t\t\t\thref=\"javascript:void(0)\"\r\n\t\t\t\t\t\t\t@click=\"getDepartEmploy(item.did)\"\r\n\t\t\t\t\t\t\t>获取</a\r\n\t\t\t\t\t\t></div\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<div>{{ item.did }}</div>\r\n\t\t\t\t\t<div>{{ item.dname }}</div>\r\n\t\t\t\t\t<div>{{ item.dlevel }}</div>\r\n\t\t\t\t\t<div v-if=\"item.dremark == null\">null</div>\r\n\t\t\t\t\t<div v-else>{{ item.dremark }}</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class=\"context-employee\" :class=\"{ disappear: !alive }\">\r\n\t\t\t<div class=\"context-employee-nav\">\r\n\t\t\t\t<span>员工ID</span>\r\n\t\t\t\t<span>姓名</span>\r\n\t\t\t\t<span>级别</span>\r\n\t\t\t\t<span>职位</span>\r\n\t\t\t\t<span>性别</span>\r\n\t\t\t\t<span>文化程度</span>\r\n\t\t\t\t<span>照片</span>\r\n\t\t\t\t<span>政治面貌</span>\r\n\t\t\t\t<span>民族</span>\r\n\t\t\t\t<div>操作</div>\r\n\t\t\t</div>\r\n\t\t\t<ul>\r\n\t\t\t\t<li class=\"item_employee\" v-for=\"(item, index) in employee\">\r\n\t\t\t\t\t<div>{{ item.id }}</div>\r\n\t\t\t\t\t<div>{{ item.name }}</div>\r\n\t\t\t\t\t<div>{{ item.level }}</div>\r\n\t\t\t\t\t<div>{{ item.status }}</div>\r\n\t\t\t\t\t<div>{{ item.gender }}</div>\r\n\t\t\t\t\t<div>{{ item.education }}</div>\r\n\t\t\t\t\t<div>{{ item.photo }}</div>\r\n\t\t\t\t\t<div>{{ item.politicalFace }}</div>\r\n\t\t\t\t\t<div>{{ item.ethnicity }}</div>\r\n\t\t\t\t\t<div class=\"operation\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t><a href=\"#\" @click=\"showDetail(index)\"\r\n\t\t\t\t\t\t\t\t>详情</a\r\n\t\t\t\t\t\t\t></div\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div ref=\"detail\" class=\"detail\" :class=\"{ disappear: !showdetail }\">\r\n\t\t\t<el-button type=\"warning\" @click=\"Close\" size=\"small\"\r\n\t\t\t\t>关闭</el-button\r\n\t\t\t>\r\n\t\t\t<div class=\"detail-nav\">\r\n\t\t\t\t<span>生日</span>\r\n\t\t\t\t<span>电话号码</span>\r\n\t\t\t\t<span>部门</span>\r\n\t\t\t\t<span>电子邮箱</span>\r\n\t\t\t\t<span>用户名</span>\r\n\t\t\t\t<span>账户</span>\r\n\t\t\t\t<span>密码</span>\r\n\t\t\t\t<span>注册时间</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"detail-item\">\r\n\t\t\t\t<div>{{ nowemployee.birthday }}</div>\r\n\t\t\t\t<div>{{ nowemployee.phoneNumber }}</div>\r\n\t\t\t\t<div>{{ nowemployee.did }}</div>\r\n\t\t\t\t<div>{{ nowemployee.email }}</div>\r\n\t\t\t\t<div>{{ nowemployee.userName }}</div>\r\n\t\t\t\t<div>{{ nowemployee.account }}</div>\r\n\t\t\t\t<div>密码不可见</div>\r\n\t\t\t\t<div>{{ nowemployee.registTime }}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n\tinject: [\"reload\"],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t//雇员模块活跃\r\n\t\t\talive: false,\r\n\t\t\tshowdetail: \"\",\r\n\t\t\t//详情雇员\r\n\t\t\tnowemployee: \"\",\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tgetDepartEmploy(did) {\r\n\t\t\tthis.alive = true;\r\n\t\t\tconsole.log(did);\r\n\t\t\tthis.$store.dispatch(\"getDepartEmployee\", did);\r\n\t\t},\r\n\t\tshowDetail(index) {\r\n\t\t\tthis.showdetail = true;\r\n\t\t\tconsole.log(index);\r\n\t\t\tthis.nowemployee = this.employee[index];\r\n\t\t},\r\n\t\tClose() {\r\n\t\t\tthis.showdetail = false;\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState({\r\n\t\t\tdepartment: (state) => state.department,\r\n\t\t\temployee: (state) => state.department_employee,\r\n\t\t}),\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.dispatch(\"getDepart\");\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hello {\r\n\toverflow-y: hidden;\r\n}\r\n.btnrow {\r\n\tmargin-bottom: 5%;\r\n}\r\n.submitbtn {\r\n\twidth: 100%;\r\n}\r\n#selectForm >>> .el-form-item__label {\r\n\tfont-size: 18px;\r\n}\r\n.detail-nav > div {\r\n\tfont-size: 20px;\r\n\tmargin-top: 10%;\r\n\tmargin-left: 10%;\r\n}\r\n.detail-item > div {\r\n\tfont-size: 20px;\r\n\tmargin-top: 4.6%;\r\n}\r\n.btn-sm {\r\n\tmargin-left: 0.3vw;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}