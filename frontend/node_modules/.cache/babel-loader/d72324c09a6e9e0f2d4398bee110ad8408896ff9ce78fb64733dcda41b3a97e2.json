{"ast":null,"code":"import { mapState } from 'vuex';\nexport default {\n  inject: ['reload'],\n  data() {\n    return {\n      dialogVisible: false,\n      nowEmployeeid: '',\n      user: '',\n      myname: '',\n      level: '',\n      status: '',\n      gender: '',\n      photo: '',\n      ethnicity: '',\n      birthday: '',\n      politicalFace: '',\n      education: '',\n      id_card: '',\n      phone_number: '',\n      e_mail: '',\n      username: '',\n      account: '',\n      did: '',\n      password: '',\n      input: ''\n    };\n  },\n  methods: {\n    handleClose(done) {\n      this.$confirm('确认关闭？').then(_ => {\n        done();\n      }).catch(_ => {});\n    },\n    showDetail(id) {\n      this.$store.dispatch('getAttendance', id).then(res => {\n        this.$alert(`<strong>缺勤:${this.attendance.absence}次 出席:${this.attendance.attendance}次  迟到:${this.attendance.late}次 早退:${this.attendance.leave_early}次 加班:${this.attendance.overtime}次</strong>`, '考勤信息', {\n          dangerouslyUseHTMLString: true\n        });\n      });\n    },\n    updateAttendance() {\n      this.dialogVisible = false;\n      var data = {\n        \"id\": this.nowEmployeeid,\n        \"status\": this.input\n      };\n      this.$store.dispatch('updateAttendance', data).then(res => {\n        alert(res);\n      });\n    }\n  },\n  computed: {\n    ...mapState({\n      userlist: state => state.userlist,\n      attendance: state => state.attendance\n    })\n  },\n  mounted: function () {\n    this.$store.dispatch('getList');\n  }\n};","map":{"version":3,"mappings":"AAoDA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAAAC;MAAAC;MAAAC;MAAAC;MACAC;MAAAC;MAAAC;MACAC;MAAAC;MAAAC;MACAC;MAAAC;MAAAC;MAAAC;MAAAC;MAAAC;IACA;EACA;EACAC;IACAC;MACA,uBACAC;QACAC;MACA,GACAC;IACA;IACAC;MACA;QAEA;UACAC;QACA;MACA;IACA;IACAC;MACA;MAEA;QACA;QACA;MACA;MACA;QACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EAEA;AAEA","names":["inject","data","dialogVisible","nowEmployeeid","user","myname","level","status","gender","photo","ethnicity","birthday","politicalFace","education","id_card","phone_number","e_mail","username","account","did","password","input","methods","handleClose","then","done","catch","showDetail","dangerouslyUseHTMLString","updateAttendance","alert","computed","userlist","attendance","mounted"],"sourceRoot":"src/pages/system/systemattend","sources":["index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"context-title\">考勤</div>\r\n        <div class=\"context\">\r\n            <div class=\"context-nav\">\r\n                <span>员工ID</span>\r\n                <span>姓名</span>\r\n                <span>级别</span>\r\n                <span>职位</span>\r\n                <span>性别</span>\r\n                <span>文化程度</span>\r\n                <span>照片</span>\r\n                <span>政治面貌</span>\r\n                <span>民族</span>\r\n                <div>操作</div>\r\n\r\n            </div>\r\n            <ul>\r\n                <li class=\"item\" v-for=\"(item, index) in userlist\">\r\n                    <div>{{ item.id }}</div>\r\n                    <div>{{ item.name }}</div>\r\n                    <div>{{ item.level }}</div>\r\n                    <div>{{ item.status }}</div>\r\n                    <div>{{ item.gender }}</div>\r\n                    <div>{{ item.education }}</div>\r\n                    <div>{{ item.photo }}</div>\r\n                    <div>{{ item.politicalFace }}</div>\r\n                    <div>{{ item.ethnicity }}</div>\r\n                    <div class=\"operation\">\r\n                        <el-button type=\"text\" @click=\"showDetail(item.id)\">查看考勤信息</el-button>\r\n                        <el-button type=\"text\" @click=\"dialogVisible = true, nowEmployeeid = item.id\">更新考勤</el-button>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\r\n            <el-tag>缺勤</el-tag>\r\n            <el-tag type=\"success\">正常出勤</el-tag>\r\n            <el-tag type=\"info\">迟到</el-tag>\r\n            <el-tag type=\"warning\">早退</el-tag>\r\n            <el-tag type=\"danger\">加班</el-tag>\r\n            <el-input v-model=\"input\" placeholder=\"请更新考勤信息\"></el-input>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"updateAttendance\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n    inject: ['reload'],\r\n    data() {\r\n        return {\r\n            dialogVisible: false,\r\n            nowEmployeeid: '',\r\n            user: '',\r\n            myname: '', level: '', status: '', gender: '', photo: '',\r\n            ethnicity: '', birthday: '', politicalFace: '',\r\n            education: '', id_card: '', phone_number: '',\r\n            e_mail: '', username: '', account: '', did: '', password: '', input: ''\r\n        }\r\n    },\r\n    methods: {\r\n        handleClose(done) {\r\n            this.$confirm('确认关闭？')\r\n                .then(_ => {\r\n                    done();\r\n                })\r\n                .catch(_ => { });\r\n        },\r\n        showDetail(id) {\r\n            this.$store.dispatch('getAttendance', id).then(res => {\r\n\r\n                this.$alert(`<strong>缺勤:${this.attendance.absence}次 出席:${this.attendance.attendance}次  迟到:${this.attendance.late}次 早退:${this.attendance.leave_early}次 加班:${this.attendance.overtime}次</strong>`, '考勤信息', {\r\n                    dangerouslyUseHTMLString: true\r\n                });\r\n            })\r\n        },\r\n        updateAttendance() {\r\n            this.dialogVisible = false\r\n\r\n            var data = {\r\n                \"id\": this.nowEmployeeid,\r\n                \"status\": this.input\r\n            }\r\n            this.$store.dispatch('updateAttendance', data).then(res => {\r\n                alert(res)\r\n            })\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            userlist: (state) => state.userlist,\r\n            attendance: (state) => state.attendance\r\n        })\r\n    },\r\n    mounted: function () {\r\n        this.$store.dispatch('getList')\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\na {\r\n    text-decoration: none;\r\n    /* color: #000; */\r\n}\r\n\r\nli {\r\n    list-style-type: none;\r\n}\r\n\r\n.context {\r\n    border: 2px solid pink;\r\n    border-top: 1px solid pink;\r\n    position: absolute;\r\n    top: 210px;\r\n    left: 245px;\r\n    height: 500px;\r\n    width: 1057px;\r\n}\r\n\r\n.context-title {\r\n    background-color: rgb(68, 81, 97);\r\n    height: 30px;\r\n    color: rgb(255, 255, 255);\r\n    width: 120px;\r\n    position: absolute;\r\n    left: 245px;\r\n    top: 180px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n}\r\n\r\n.context-add {\r\n    background-color: rgb(68, 81, 97);\r\n    height: 30px;\r\n    color: rgb(255, 255, 255);\r\n    width: 120px;\r\n    position: absolute;\r\n    left: 1182px;\r\n    top: 180px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n}\r\n\r\n.context-add a {\r\n    color: white;\r\n}\r\n\r\n.context-detail {\r\n    text-align: center;\r\n    line-height: 246px;\r\n    height: 246px;\r\n    width: 840px;\r\n}\r\n\r\n.context-nav {\r\n    background-color: rgb(237, 234, 235);\r\n    height: 30px;\r\n    line-height: 30px;\r\n}\r\n\r\n.context-nav>span {\r\n    display: block;\r\n    float: left;\r\n    text-align: center;\r\n    width: 96px;\r\n}\r\n\r\n.context-nav div {\r\n    float: right;\r\n    width: 120px;\r\n}\r\n\r\n\r\n.item {\r\n    display: block;\r\n    height: 41px;\r\n}\r\n\r\n.item>div {\r\n    height: 41px;\r\n    float: left;\r\n    border-bottom: 1px solid pink;\r\n    text-align: center;\r\n    line-height: 41px;\r\n    width: 96px;\r\n}\r\n\r\n.item :nth-child(10) {\r\n    width: 180px;\r\n}\r\n\r\n.operation {\r\n    width: 120px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}