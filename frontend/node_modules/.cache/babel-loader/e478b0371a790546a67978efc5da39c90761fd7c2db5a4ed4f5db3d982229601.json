{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nVue.use(VueRouter);\nimport store from \"@/store\";\nimport Login from \"@/pages/Login/index2.vue\";\nimport Home from \"@/pages/Home\";\nimport Hire from \"@/pages/Hire\";\nimport SystemActivity from \"@/pages/system/systemactivity\";\nimport SystemAnnounce from \"@/pages/system/systemannouce\";\nimport SystemComplain from \"@/pages/system/systemcomplain\";\nimport SystemIndex from \"@/pages/system/systemindex\";\nimport SystemUser from \"@/pages/system/systemuser\";\nimport SystemDepart from \"@/pages/system/systemdepart\";\nimport SystemAttendance from \"@/pages/system/systemattend\";\nlet router = new VueRouter({\n  mode: \"history\",\n  routes: [{\n    path: \"/\",\n    name: \"home\",\n    redirect: \"/login\",\n    meta: {\n      show: false\n    }\n  }, {\n    path: \"/login\",\n    component: Login,\n    meta: {\n      show: false\n    }\n  }, {\n    path: \"/home\",\n    component: Home,\n    meta: {\n      show: false\n    }\n  }, {\n    path: \"/hire\",\n    component: Hire,\n    meta: {\n      show: false\n    }\n  }, {\n    path: \"/systemacitvity\",\n    component: SystemActivity,\n    meta: {\n      show: true\n    }\n  }, {\n    path: \"/systemannounce\",\n    component: SystemAnnounce,\n    meta: {\n      show: true\n    }\n  }, {\n    path: \"/systemcomplain\",\n    component: SystemComplain,\n    meta: {\n      show: true\n    }\n  }, {\n    path: \"/systemindex\",\n    component: SystemIndex,\n    meta: {\n      show: true\n    }\n  }, {\n    path: \"/systemuser\",\n    component: SystemUser,\n    meta: {\n      show: true\n    }\n  }, {\n    path: \"/systemdepart\",\n    component: SystemDepart,\n    meta: {\n      show: true\n    }\n  }, {\n    path: \"/systemattendance\",\n    component: SystemAttendance,\n    meta: {\n      show: true\n    }\n  }\n  //重定向\n  // {\n  //     path: '*',\n  //     redirect: '/home'\n  // }\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  let token = localStorage.getItem(\"TOKEN\");\n  if (token) {\n    //已经登录\n    console.log(\"success\");\n    next();\n  } else {\n    console.log(to.path);\n    console.log(\"failed\");\n    if (to.path == \"/hire\" || to.path == \"/login\" || to.path == \"home\") next();\n    if (to.meta.show) next({\n      path: \"/login\"\n    });\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","use","store","Login","Home","Hire","SystemActivity","SystemAnnounce","SystemComplain","SystemIndex","SystemUser","SystemDepart","SystemAttendance","router","mode","routes","path","name","redirect","meta","show","component","beforeEach","to","from","next","token","localStorage","getItem","console","log"],"sources":["D:/bz2021/EnterpriseManagementSystem/frontend/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nVue.use(VueRouter);\r\nimport store from \"@/store\";\r\nimport Login from \"@/pages/Login/index2.vue\";\r\nimport Home from \"@/pages/Home\";\r\nimport Hire from \"@/pages/Hire\";\r\nimport SystemActivity from \"@/pages/system/systemactivity\";\r\nimport SystemAnnounce from \"@/pages/system/systemannouce\";\r\nimport SystemComplain from \"@/pages/system/systemcomplain\";\r\nimport SystemIndex from \"@/pages/system/systemindex\";\r\nimport SystemUser from \"@/pages/system/systemuser\";\r\nimport SystemDepart from \"@/pages/system/systemdepart\";\r\nimport SystemAttendance from \"@/pages/system/systemattend\";\r\nlet router = new VueRouter({\r\n\tmode: \"history\",\r\n\troutes: [\r\n\t\t{\r\n\t\t\tpath: \"/\",\r\n\t\t\tname: \"home\",\r\n\t\t\tredirect: \"/login\",\r\n\t\t\tmeta: { show: false },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/login\",\r\n\t\t\tcomponent: Login,\r\n\t\t\tmeta: { show: false },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/home\",\r\n\t\t\tcomponent: Home,\r\n\t\t\tmeta: { show: false },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/hire\",\r\n\t\t\tcomponent: Hire,\r\n\t\t\tmeta: { show: false },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/systemacitvity\",\r\n\t\t\tcomponent: SystemActivity,\r\n\t\t\tmeta: { show: true },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/systemannounce\",\r\n\t\t\tcomponent: SystemAnnounce,\r\n\t\t\tmeta: { show: true },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/systemcomplain\",\r\n\t\t\tcomponent: SystemComplain,\r\n\t\t\tmeta: { show: true },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/systemindex\",\r\n\t\t\tcomponent: SystemIndex,\r\n\t\t\tmeta: { show: true },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/systemuser\",\r\n\t\t\tcomponent: SystemUser,\r\n\t\t\tmeta: { show: true },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/systemdepart\",\r\n\t\t\tcomponent: SystemDepart,\r\n\t\t\tmeta: { show: true },\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/systemattendance\",\r\n\t\t\tcomponent: SystemAttendance,\r\n\t\t\tmeta: { show: true },\r\n\t\t},\r\n\t\t//重定向\r\n\t\t// {\r\n\t\t//     path: '*',\r\n\t\t//     redirect: '/home'\r\n\t\t// }\r\n\t],\r\n});\r\nrouter.beforeEach((to, from, next) => {\r\n\tlet token = localStorage.getItem(\"TOKEN\");\r\n\tif (token) {\r\n\t\t//已经登录\r\n\t\tconsole.log(\"success\");\r\n\t\tnext();\r\n\t} else {\r\n\t\tconsole.log(to.path);\r\n\t\tconsole.log(\"failed\");\r\n\t\tif (to.path == \"/hire\" || to.path == \"/login\" || to.path == \"home\")\r\n\t\t\tnext();\r\n\t\tif (to.meta.show) next({ path: \"/login\" });\r\n\t}\r\n});\r\nexport default router;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}